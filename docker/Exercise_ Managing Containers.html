<html xmlns:tomboy="http://beatniksoftware.com/tomboy" xmlns:link="http://beatniksoftware.com/tomboy/link" xmlns:size="http://beatniksoftware.com/tomboy/size"><head><META http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Exercise: Managing Containers</title><style type="text/css">
        
	body {  }
	h1 { font-size: xx-large;
     	     font-weight: bold;
     	     border-bottom: 1px solid black; }
	div.note {
		   position: relative;
		   display: block;
		   padding: 5pt;
		   margin: 5pt; 
		   white-space: -moz-pre-wrap; /* Mozilla */
 	      	   white-space: -pre-wrap;     /* Opera 4 - 6 */
 	      	   white-space: -o-pre-wrap;   /* Opera 7 */
 	      	   white-space: pre-wrap;      /* CSS3 */
 	      	   word-wrap: break-word;      /* IE 5.5+ */ }
	</style></head><body><div class="note" id="Exercise: Managing Containers"><a name="exercise: managing containers"></a><h1>Exercise: Managing Containers</h1>
<b>NOTE</b>: Although you should be able to run these commands on any Docker version on any Linux Distribution, for the purposes of these exercises, be sure you are running Docker v1.10+ as well as the latest CentOS or Ubuntu distribution. Be sure to have pulled the 'centos:6' and 'ubuntu:latest' images from the Docker Hub (docker pull) before starting this exercise.

<b>1. Create a container from the base image for the latest version of Ubuntu available (if you do not have an Ubuntu base image installed locally, pull the latest one down for your local repository). The container should be started in interactive mode attached to the current terminal and running the bash shell. Once running, shut the container down by exiting.

</b><span style="font-size:small">user@linuxacademy:~$ docker pull ubuntu:latest

Pulling repository ubuntu

91e54dfb1179: Download complete

d3a1f33e8a5a: Download complete

c22013c84729: Download complete

d74508fb6632: Download complete

Status: Downloaded newer image for ubuntu:latest

user@linuxacademy:~$ <a style="color:#204A87" href="docker images.html">docker images</a></span><span style="font-size:small">

REPOSITORY                 TAG                 IMAGE ID            CREATED             VIRTUAL SIZE

mycustomimg/withservices   v1                  dcfdd130c812        29 hours ago        506.9 MB

newcentos                  withapache          18bd1fc4d60f        2 days ago          480.6 MB

ubuntu                     latest              91e54dfb1179        4 days ago          188.4 MB

ubuntu                     trusty              91e54dfb1179        4 days ago          188.4 MB

ubuntu                     trusty-20150814     91e54dfb1179        4 days ago          188.4 MB

ubuntu                     14.04               91e54dfb1179        4 days ago          188.4 MB

ubuntu                     14.04.3             91e54dfb1179        4 days ago          188.4 MB

centos                     6                   a005304e4e74        9 weeks ago         203.1 MB

centos                     centos6             a005304e4e74        9 weeks ago         203.1 MB

user@linuxacademy:~$ <a style="color:#204A87" href="docker run.html">docker run</a></span><span style="font-size:small"> -it ubuntu:latest <a style="color:#3465A4" href="/bin/bash">/bin/bash</a></span><span style="font-size:small">

root@a163412a382b:/# exit

exit
</span> 
<b>2. Run the appropriate Docker command to get the name of the previously run container. Issue the appropriate command to restart the container that you obtained the name of. Do NOT create a new container, restart the one we just used.

</b><span style="font-size:small"><span style="font-family:monospace">user@linuxacademy:~$ <a style="color:#204A87" href="docker ps.html">docker ps</a></span></span><span style="font-size:small"><span style="font-family:monospace"> -a

CONTAINER ID        IMAGE               COMMAND             CREATED              STATUS                          PORTS               NAMES

a163412a382b        ubuntu:14.04        "/bin/bash"         About a minute ago   Exited (0) About a minute ago                       agitated_bohr

b237d65fd197        centos:6            "/bin/bash"         2 days ago           Exited (0) 2 days ago                               furious_rosalind

user@linuxacademy:~$ docker restart agitated_bohr

agitated_bohr

user@linuxacademy:~$ <a style="color:#204A87" href="docker ps.html">docker ps</a></span></span><span style="font-size:small"><span style="font-family:monospace">

CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES

a163412a382b        ubuntu:14.04        "/bin/bash"         2 minutes ago       Up 16 seconds                           agitated_bohr
</span></span>  
<b>3. Stop the container. Remove that container from the system completely using the appropriate command.
</b>
<span style="font-size:small">user@linuxacademy:~$ docker stop agitated_bohr

agitated_bohr

user@linuxacademy:~$ <a style="color:#204A87" href="docker ps.html">docker ps</a></span><span style="font-size:small">

CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES

user@linuxacademy:~$ <a style="color:#204A87" href="docker ps.html">docker ps</a></span><span style="font-size:small"> -a

CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES

a163412a382b        ubuntu:14.04        "/bin/bash"         3 minutes ago       Exited (0) 5 seconds ago                       agitated_bohr

b237d65fd197        centos:6            "/bin/bash"         2 days ago          Exited (0) 2 days ago                          furious_rosalind

user@linuxacademy:~$ docker rm agitated_bohr

agitated_bohr

user@linuxacademy:~$ <a style="color:#204A87" href="docker ps.html">docker ps</a></span><span style="font-size:small"> -a

CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                  PORTS               NAMES

b237d65fd197        centos:6            "/bin/bash"         2 days ago          Exited (0) 2 days ago                       furious_rosalind
</span> 
<b>4. Create (not run) a container called "my_container", create it with parameters that will allow it to run interactively and attached to the local console running the bash shell. Verify that the container is not running.
</b>
<span style="font-size:small"><span style="font-family:monospace">user@linuxacademy:~$ <span style="background:yellow">docker create -it --name="my_container" ubuntu:latest <a style="color:#3465A4" href="/bin/bash">/bin/bash</a></span></span></span><span style="font-size:small"><span style="font-family:monospace"></span></span><span style="font-size:small"><span style="font-family:monospace">

a8eccaa97e322ff640bb9f7071f191dc9a514afb324af28269ffbb7ae754666f

user@linuxacademy:~$ <a style="color:#204A87" href="docker ps.html">docker ps</a></span></span><span style="font-size:small"><span style="font-family:monospace"> -a

CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                  PORTS               NAMES

a8eccaa97e32        ubuntu:14.04        "/bin/bash"         4 seconds ago                                                   my_container

b237d65fd197        centos:6            "/bin/bash"         2 days ago          Exited (0) 2 days ago                       furious_rosalind
</span></span>
<b>5. Start the container and again, verify the container is running. Run the appropriate command to attach your session to the running container so you are logged into the shell.</b>

<span style="font-size:small"><span style="font-family:monospace">user@linuxacademy:~$ docker start my_container

my_container

user@linuxacademy:~$ <a style="color:#204A87" href="docker ps.html">docker ps</a></span></span><span style="font-size:small"><span style="font-family:monospace">

CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES

a8eccaa97e32        ubuntu:14.04        "/bin/bash"         30 seconds ago      Up 2 seconds                            my_container

user@linuxacademy:~$ docker attach my_container

root@a8eccaa97e32:/#

root@a8eccaa97e32:/# exit</span></span></div></body></html>